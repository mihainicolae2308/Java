CREATE TABLE BOOK_TYPES (ID_TYPE INTEGER PRIMARY KEY, TYPE VARCHAR(25));

CREATE TABLE BOOK_PAPER_QUALITIES (ID_QUALITY INTEGER PRIMARY KEY, QUALITY VARCHAR(25));

CREATE TABLE BOOK_GENRES (ID_GENRE INTEGER PRIMARY KEY, GENRE VARCHAR(25));

CREATE TABLE EBOOKS (ISBN VARCHAR(50) PRIMARY KEY, DENUMIRE VARCHAR(50), ID_TYPE INTEGER, FOREIGN KEY(ID_TYPE) REFERENCES BOOK_TYPES(ID_TYPE), ID_QUALITY INTEGER, FOREIGN KEY(ID_QUALITY) REFERENCES BOOK_PAPER_QUALITIES(ID_QUALITY), PAGES INTEGER, ID_GENRE INTEGER, FOREIGN KEY(ID_GENRE) REFERENCES BOOK_GENRES(ID_GENRE));

CREATE TABLE BOOK_AUTHORS (SSN VARCHAR(13) PRIMARY KEY, FIRST_NAME VARCHAR(13), FAMILY_NAME VARCHAR(30));

CREATE TABLE EBOOKS_AUTHORS (ID INTEGER PRIMARY KEY, ISBN VARCHAR(50), FOREIGN KEY(ISBN) REFERENCES EBOOKS(ISBN), SSN VARCHAR(13), FOREIGN KEY(SSN) REFERENCES BOOK_AUTHORS(SSN));

CREATE TABLE USERS (SSN VARCHAR(13) PRIMARY KEY);

CREATE TABLE RATINGS (RATING VARCHAR(5) PRIMARY KEY);

CREATE TABLE EBOOKS_RATINGS_USERS (ID INTEGER PRIMARY KEY, RATING VARCHAR(5), FOREIGN KEY(RATING) REFERENCES RATINGS(RATING), SSN VARCHAR(13), FOREIGN KEY(SSN) REFERENCES USERS(SSN), ISBN VARCHAR(50), FOREIGN KEY(ISBN) REFERENCES EBOOKS(ISBN));